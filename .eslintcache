[{"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/index.tsx":"1","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/reportWebVitals.ts":"2","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/App.tsx":"3","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/index.ts":"4","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/recoil/index.ts":"5","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/index.ts":"6","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/pharmacy.ts":"7","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/base.ts":"8","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/account.ts":"9","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/inventoryPharmacy.ts":"10","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/product.ts":"11","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/recoil/account.ts":"12","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/Account.tsx":"13","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/Pharmacy.tsx":"14","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/pharmacy.ts":"15","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/product.ts":"16","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/index.ts":"17","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/config/index.ts":"18","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Account/index.ts":"19","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/index.ts":"20","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/account.ts":"21","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/doctor.ts":"22","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Account/Login.tsx":"23","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/SearchPharmacys.tsx":"24","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/FormProduct.tsx":"25","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/InventoryOfPharmacy.tsx":"26","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/SearchProduct.tsx":"27","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/account.tsx":"28","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Loading.tsx":"29","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/pharmacy.tsx":"30","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useClickOutSide.tsx":"31","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/index.ts":"32","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/index.ts":"33","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/index.ts":"34","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/regex.ts":"35","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Button.tsx":"36","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useQuery.tsx":"37","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/helpers.ts":"38","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useAsync.tsx":"39","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Header.tsx":"40","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/formaters.ts":"41","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/inventory.ts":"42","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/index.ts":"43"},{"size":616,"mtime":1616242616389,"results":"44","hashOfConfig":"45"},{"size":425,"mtime":1616242616391,"results":"46","hashOfConfig":"45"},{"size":1022,"mtime":1616995172764,"results":"47","hashOfConfig":"45"},{"size":137,"mtime":1616417290061,"results":"48","hashOfConfig":"45"},{"size":42,"mtime":1616242616391,"results":"49","hashOfConfig":"45"},{"size":98,"mtime":1616242616390,"results":"50","hashOfConfig":"45"},{"size":1130,"mtime":1616995410806,"results":"51","hashOfConfig":"45"},{"size":348,"mtime":1616726617493,"results":"52","hashOfConfig":"45"},{"size":876,"mtime":1616990343729,"results":"53","hashOfConfig":"45"},{"size":2128,"mtime":1616985939225,"results":"54","hashOfConfig":"45"},{"size":894,"mtime":1616592696146,"results":"55","hashOfConfig":"45"},{"size":180,"mtime":1616990660698,"results":"56","hashOfConfig":"45"},{"size":439,"mtime":1616995047061,"results":"57","hashOfConfig":"45"},{"size":2106,"mtime":1616993631118,"results":"58","hashOfConfig":"45"},{"size":4940,"mtime":1616296123651,"results":"59","hashOfConfig":"45"},{"size":2892,"mtime":1616987564653,"results":"60","hashOfConfig":"45"},{"size":136,"mtime":1616984706544,"results":"61","hashOfConfig":"45"},{"size":124,"mtime":1616592696153,"results":"62","hashOfConfig":"45"},{"size":43,"mtime":1616242616388,"results":"63","hashOfConfig":"45"},{"size":251,"mtime":1616340806187,"results":"64","hashOfConfig":"45"},{"size":369,"mtime":1616990849660,"results":"65","hashOfConfig":"45"},{"size":927,"mtime":1616991526696,"results":"66","hashOfConfig":"45"},{"size":4354,"mtime":1616995161340,"results":"67","hashOfConfig":"45"},{"size":5907,"mtime":1616747981968,"results":"68","hashOfConfig":"45"},{"size":11399,"mtime":1616995550790,"results":"69","hashOfConfig":"45"},{"size":7589,"mtime":1616995504767,"results":"70","hashOfConfig":"45"},{"size":5874,"mtime":1616747956458,"results":"71","hashOfConfig":"45"},{"size":709,"mtime":1616990861899,"results":"72","hashOfConfig":"45"},{"size":130,"mtime":1616242616389,"results":"73","hashOfConfig":"45"},{"size":673,"mtime":1616995428042,"results":"74","hashOfConfig":"45"},{"size":685,"mtime":1616414903961,"results":"75","hashOfConfig":"45"},{"size":106,"mtime":1616294113336,"results":"76","hashOfConfig":"45"},{"size":89,"mtime":1616242616389,"results":"77","hashOfConfig":"45"},{"size":87,"mtime":1616294014407,"results":"78","hashOfConfig":"45"},{"size":188,"mtime":1616242616391,"results":"79","hashOfConfig":"45"},{"size":548,"mtime":1616993103903,"results":"80","hashOfConfig":"45"},{"size":132,"mtime":1616294015881,"results":"81","hashOfConfig":"45"},{"size":507,"mtime":1616293303886,"results":"82","hashOfConfig":"45"},{"size":1459,"mtime":1616293942081,"results":"83","hashOfConfig":"45"},{"size":2169,"mtime":1616990429763,"results":"84","hashOfConfig":"45"},{"size":282,"mtime":1616242616391,"results":"85","hashOfConfig":"45"},{"size":959,"mtime":1616988644928,"results":"86","hashOfConfig":"45"},{"size":25,"mtime":1616294069303,"results":"87","hashOfConfig":"45"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},"z9m8sw",{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"90"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"90"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"90"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"90"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/index.tsx",[],["179","180"],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/reportWebVitals.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/App.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/recoil/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/pharmacy.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/base.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/account.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/inventoryPharmacy.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/api/product.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/recoil/account.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/Account.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/pages/Pharmacy.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/pharmacy.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/product.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/config/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Account/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/account.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/doctor.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Account/Login.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/SearchPharmacys.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/FormProduct.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/InventoryOfPharmacy.tsx",["181"],"/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable jsx-a11y/alt-text */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useMemo, useRef, useState } from \"react\"\nimport { useHistory } from \"react-router\"\nimport { useRecoilValue } from \"recoil\"\nimport { getInventoryInPharmacy, getPharmacyInfoLocal } from \"../../api\"\nimport usePharmacy from \"../../hooks/pharmacy\"\nimport { InventoryModel, ProductModel } from \"../../models\"\nimport { PharmacyDetailModel } from \"../../models/pharmacy\"\nimport { accountDataState } from \"../../recoil/account\"\nimport { debounce } from \"../../utils\"\nimport { useAsync } from \"../../utils/hooks\"\nimport { Header } from \"../shared\"\n\ninterface IState {\n    skip: number,\n    limit: number,\n    listProduct: Array<InventoryModel>,\n    total?: number,\n}\n\nconst initState = {\n    skip: 0,\n    limit: 10,\n    listProduct: [],\n    total: 0,\n}\n\nconst InventoryOfPharmacy = React.memo(() => {\n    const history = useHistory()\n\n    const { getCurrentDetailPharmacy } = usePharmacy()\n    const getCurrentDetailPharmacyAsync = useAsync<PharmacyDetailModel>(getCurrentDetailPharmacy)\n    const getInventoryInPharmacyAsync = useAsync(getInventoryInPharmacy)\n\n    const accountInfo = useRecoilValue(accountDataState)\n\n    const pharmacyId = useMemo(() => {\n        return getCurrentDetailPharmacyAsync.value?.pharmacy.mId\n    }, [getCurrentDetailPharmacyAsync.value])\n\n    const [state, setState] = useState<IState>(initState)\n    const inputSearch: any = useRef()\n\n    useEffect(() => {\n        const pharmacyInfo = getPharmacyInfoLocal()\n        if (pharmacyInfo) {\n            getCurrentDetailPharmacyAsync.execute()\n        } else {\n            history.push('/search-pharmacys')\n        }\n    }, [])\n\n    useEffect(() => {\n        getInitData()\n    }, [accountInfo.doctor.mId, pharmacyId])\n\n    const getInitData = () => {\n        if (!pharmacyId) return\n        getInventoryInPharmacyAsync.execute({\n            pharmacyId,\n            adminId: accountInfo.doctor.mId,\n            filter: {\n                skip: initState.skip,\n                limit: initState.limit,\n            }\n        }).then(res => {\n            setState(prev => ({ ...prev, listProduct: res }))\n        })\n    }\n\n    const handleChange = debounce((value: string) => {\n        if (value === '') {\n            getInitData()\n            return\n        }\n\n        getInventoryInPharmacyAsync.execute({\n            pharmacyId,\n            adminId: accountInfo.doctor.mId,\n            filter: {\n                skip: initState.skip,\n                limit: initState.limit,\n                where: {\n                    mProductName: {\n                        regexp: `/${value}/`\n                    },\n                }\n            }\n        }).then(res => {\n            setState(prev => ({ ...prev, listProduct: res }))\n        })\n    }, 500)\n\n    return <>\n        <Header\n            title={getCurrentDetailPharmacyAsync.value?.pharmacy.mName}\n            subTitle={getCurrentDetailPharmacyAsync.value?.pharmacyAddress.mAddress}\n            backTo=\"/search-pharmacys\"\n        />\n        <div id=\"main\" style={{ width: \"100%\" }}>\n            <div className=\"container\">\n                <p className=\"mt-3 mb-3\">\n                    <a onClick={() => history.push('search-product')} className=\"btn btn-block btn-border\" title=\"THÊM SẢN PHẨM MỚI\">\n                        <img src=\"./images/add_circle.svg\" title=\"Add\" className=\"img-fluid\" width={24} />\n                            THÊM SẢN PHẨM MỚI\n                    </a>\n                </p>\n\n                <div className=\"row\">\n                    <div className=\"spacing\" />\n                </div>\n                <div className=\"mt-3\">\n                    <div className=\"d-flex py-3 justify-content-center align-items-center\">\n                        <p className=\"m-0\">NT đang có {getInventoryInPharmacyAsync.value?.length} sản phẩm</p>\n                    </div>\n                    <div className=\"form-search\">\n                        <form id=\"search\">\n                            <input\n                                ref={inputSearch}\n                                onKeyPress={(e) => { e.key === 'Enter' && e.preventDefault(); }}\n                                onChange={(e) => {\n                                    const { value } = e.target\n                                    handleChange(value)\n                                    inputSearch.current.value = value\n                                }} type=\"text\" name=\"search\" placeholder=\"Tìm kiếm theo tên thuốc\" className=\"input-search\" />\n                            <a\n                                id=\"btn-search-clear\"\n                                onClick={() => {\n                                    inputSearch.current.value = ''\n                                    setState(initState)\n                                    getInitData()\n                                }}\n                            >\n                                <img src=\"./images/cancel.svg\" title=\"Xóa\" className=\"img-fluid\" width={24} alt='' />\n                            </a>\n                            <button type=\"button\" className=\"btn-search\">\n                                <img src=\"./images/search.svg\" title=\"Tìm kiếm\" className=\"img-fluid\" width={24} />\n                            </button>\n                        </form>\n                    </div>\n                    <div className=\"d-flex justify-content-between mb-3\">\n                        <label className=\"mt-2\">Sắp xếp theo</label>\n                        <select className=\"sort-by\">\n                            <option>Ngày cập nhật</option>\n                            <option>Bán chạy</option>\n                            <option>Example</option>\n                            <option>Example 2</option>\n                            <option>Example 3</option>\n                        </select>\n                    </div>\n\n                    <div className=\"row\">\n                        <div className=\"table-products\">\n                            <table className=\"table table-striped\">\n                                <thead>\n                                    <tr>\n                                        <th scope=\"col\">Tên</th>\n                                        <th scope=\"col\" style={{ width: 70 }}>Đơn vị</th>\n                                        <th scope=\"col\" style={{ width: 90 }}>Số lượng</th>\n                                        <th scope=\"col\" style={{ width: 80 }}>ĐƠN GIÁ</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        state.listProduct?.map((product: InventoryModel) => {\n                                            return <tr>\n                                                <td>{product.mProductName}</td>\n                                                <td>{product.mPkgName}</td>\n                                                <td>{product.mStockAmount}</td>\n                                                <td className=\"price\">{product.mPrice}</td>\n                                            </tr>\n                                        })\n                                    }\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </>\n})\n\nexport default InventoryOfPharmacy","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/Pharmacys/SearchProduct.tsx",["182","183","184","185","186","187","188"],"import React, { useEffect, useRef, useState } from \"react\"\nimport { Header } from \"../shared\"\nimport { ISearchProduct, searchProduct } from '../../api'\nimport Loading from \"../shared/Loading\"\nimport { useHistory } from \"react-router\"\nimport { debounce, useAsync } from \"../../utils\"\nimport useClickOutside from \"../../utils/hooks/useClickOutSide\"\nimport { PharmacyDetailModel, ProductModel } from \"../../models\"\nimport usePharmacy from \"../../hooks/pharmacy\"\n\nconst SearchProduct = React.memo(() => {\n    const history = useHistory()\n    const searchRef: any = useRef()\n    const inputSearch: any = useRef()\n\n    const { getCurrentDetailPharmacy } = usePharmacy()\n    const getCurrentDetailPharmacyAsync = useAsync<PharmacyDetailModel>(getCurrentDetailPharmacy)\n    const searchProductAsync = useAsync(searchProduct)\n\n    const [state, setState] = useState<{\n        from: number,\n        size: number,\n        listProduct: Array<ProductModel>,\n        show: boolean,\n        outOfData: boolean,\n        total?: number,\n    }>({\n        from: 0,\n        size: 10,\n        listProduct: [],\n        show: false,\n        outOfData: false,\n        total: 0,\n    })\n\n    useEffect(() => {\n        getCurrentDetailPharmacyAsync.execute()\n    }, [])\n\n    useClickOutside(() => {\n        setState(prev => ({ ...prev, show: false }))\n    }, [searchRef])\n\n    const getQuery = ({ search, from, size }: ISearchProduct) => {\n        return {\n            from,\n            size,\n            query: {\n                match: {\n                    name: search\n                },\n            }\n        }\n    }\n\n    const resetState = () => {\n        inputSearch.current.value = ''\n        setState({\n            from: 0,\n            size: 10,\n            listProduct: [],\n            outOfData: false,\n            show: false,\n            total: 0\n        })\n    }\n\n    const handleSeach = debounce((value: string) => {\n        if (value == '') {\n            resetState()\n            return\n        }\n\n        const params = {\n            from: state.from,\n            size: state.size,\n            search: value,\n        }\n\n        searchProductAsync.execute(getQuery(params)).then(res => {\n            setState(prev => ({\n                ...prev,\n                from: 0,\n                listProduct: res.data,\n                show: true,\n                total: res.total,\n                outOfData: res.data.length === 0\n            }))\n        })\n    }, 500)\n\n    const handleScroll = (e: any) => {\n        if (state.outOfData) return\n        const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight\n        const params = {\n            from: state.from + 10,\n            size: state.size,\n            search: inputSearch.current.value,\n        }\n\n        if (bottom) {\n            searchProductAsync.execute(getQuery(params)).then(res => {\n                setState(prev => ({\n                    ...prev,\n                    from: prev.from + 10,\n                    listProduct: [...prev.listProduct, ...res.data],\n                    total: res.total,\n                    outOfData: res.data.length < 10\n                }))\n            })\n        }\n    }\n\n    return <div className='w-100'>\n        <Header\n            title=\"Tìm kiếm sản phẩm\"\n            subTitle={getCurrentDetailPharmacyAsync.value?.pharmacy?.mName}\n            backTo=\"/inventory-of-pharmacy\"\n        />\n        <div id=\"main\">\n            <div className=\"container\" ref={searchRef}>\n                <div className=\"form-search\">\n                    <form id=\"search\">\n                        <input\n                            ref={inputSearch}\n                            onClick={() => setState(prev => ({ ...prev, show: true }))}\n                            type=\"text\"\n                            name=\"search\"\n                            placeholder=\"Tìm kiếm theo tên thuốc\"\n                            className=\"input-search\"\n                            onChange={(e => {\n                                e.preventDefault()\n                                const { value } = e?.target\n                                handleSeach(value)\n                            })}\n                        />\n                        <span id=\"btn-search-clear\" onClick={resetState}>\n                            {\n                                searchProductAsync.status == 'loading' ?\n                                    <Loading /> :\n                                    <img src=\"./images/cancel.svg\" title=\"Xóa\" className=\"img-fluid\" width={24} />\n                            }\n                        </span>\n\n                        <button type=\"button\" className=\"btn-search\">\n                            <img src=\"./images/search.svg\" title=\"Tìm kiếm\" className=\"img-fluid\" width={24} />\n                        </button>\n                    </form>\n                </div>\n                {\n                    state.show && state.listProduct.length != 0 &&\n                    <div className=\"search-results\">\n                        <ul onScroll={handleScroll} style={{ maxHeight: \"400px\", overflowY: \"auto\" }}>\n                            {\n                                state.listProduct.map((product: ProductModel, index) => {\n                                    return <li onClick={() => history.push(`/update-product?productId=${product._id}`)}>\n                                        <a>\n                                            <strong>{product.name}</strong><br />\n                                            <small className=\"txt-gray\"></small>\n                                        </a>\n                                    </li>\n                                })\n                            }\n                        </ul>\n                    </div>\n                }\n            </div>\n        </div>\n    </div>\n})\n\nexport default SearchProduct","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/account.tsx",["189"],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Loading.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/pharmacy.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useClickOutSide.tsx",["190"],"import { useEffect } from \"react\"\n\nconst useClickOutside = (onClickOutside: Function, listRef: Array<any>) => {\n    useEffect(() => {\n        document.addEventListener('mousedown', clickOutside)\n        document.addEventListener('touchstart', clickOutside)\n\n        return () => {\n            document.removeEventListener('mousedown', clickOutside)\n            document.removeEventListener('touchstart', clickOutside)\n        }\n    }, [ listRef ])\n\n    const clickOutside = (event: any) => {\n        const idOutSide = listRef.every(ref => !ref.current.contains(event.target))\n        if (idOutSide) {\n            onClickOutside(event)\n        }\n    }\n\n}\n\nexport default useClickOutside","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/index.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/regex.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Button.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useQuery.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/helpers.ts",["191"],"import { useLocation } from \"react-router\";\n\nexport const setBodyClassName = (\n    className: string\n) => {\n    document.body.className = className;\n};\n\nexport const debounce = (callback: Function, delay: number) => {\n    let timeoutHandler: any = null;\n    return (...args: any[]) => {\n        if (timeoutHandler) {\n            clearTimeout(timeoutHandler);\n        }\n        timeoutHandler = setTimeout(() => {\n            callback(...args);\n            timeoutHandler = null;\n        }, delay);\n    };\n};","/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/hooks/useAsync.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/component/shared/Header.tsx",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/utils/formaters.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/models/inventory.ts",[],"/Users/nguyendinhphuc/Documents/Medigo/inventory_fe/src/hooks/index.ts",[],{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","replacedBy":"195"},{"ruleId":"196","severity":1,"message":"197","line":9,"column":26,"nodeType":"198","messageId":"199","endLine":9,"endColumn":38},{"ruleId":"200","severity":1,"message":"201","line":38,"column":8,"nodeType":"202","endLine":38,"endColumn":10,"suggestions":"203"},{"ruleId":"204","severity":1,"message":"205","line":69,"column":19,"nodeType":"206","messageId":"207","endLine":69,"endColumn":21},{"ruleId":"204","severity":1,"message":"205","line":139,"column":59,"nodeType":"206","messageId":"207","endLine":139,"endColumn":61},{"ruleId":"208","severity":1,"message":"209","line":141,"column":37,"nodeType":"210","endLine":141,"endColumn":115},{"ruleId":"208","severity":1,"message":"209","line":146,"column":29,"nodeType":"210","endLine":146,"endColumn":112},{"ruleId":"204","severity":1,"message":"211","line":151,"column":60,"nodeType":"206","messageId":"207","endLine":151,"endColumn":62},{"ruleId":"212","severity":1,"message":"213","line":157,"column":41,"nodeType":"210","endLine":157,"endColumn":44},{"ruleId":"196","severity":1,"message":"214","line":1,"column":8,"nodeType":"198","messageId":"199","endLine":1,"endColumn":13},{"ruleId":"200","severity":1,"message":"215","line":12,"column":8,"nodeType":"202","endLine":12,"endColumn":19,"suggestions":"216"},{"ruleId":"196","severity":1,"message":"217","line":1,"column":10,"nodeType":"198","messageId":"199","endLine":1,"endColumn":21},"no-native-reassign",["218"],"no-negated-in-lhs",["219"],"@typescript-eslint/no-unused-vars","'ProductModel' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getCurrentDetailPharmacyAsync'. Either include it or remove the dependency array.","ArrayExpression",["220"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","Expected '!==' and instead saw '!='.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'React' is defined but never used.","React Hook useEffect has a missing dependency: 'clickOutside'. Either include it or remove the dependency array.",["221"],"'useLocation' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"222","fix":"223"},{"desc":"224","fix":"225"},"Update the dependencies array to be: [getCurrentDetailPharmacyAsync]",{"range":"226","text":"227"},"Update the dependencies array to be: [clickOutside, listRef]",{"range":"228","text":"229"},[1239,1241],"[getCurrentDetailPharmacyAsync]",[435,446],"[clickOutside, listRef]"]